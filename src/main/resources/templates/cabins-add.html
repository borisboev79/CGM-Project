<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments/head}">
<title>GrouMan Add Cabin</title>
</head>

<body>

<header>
    <nav th:replace="~{fragments/navbar}"></nav>
</header>

<main>
<div class="container">
    <h2 class="text-center text-white"><th:block th:text="#{cabin_add_title}"/></h2>
    <h4 class="text-center text-white" th:text="${currentGroup.name}"/>
    <form th:method="POST"
          th:action="@{/cabins/add/{id}(id= ${currentGroup.id})}"
          th:object="${cabinAddDto}"
          class="main-form mx-auto col-md-8 d-flex flex-column justify-content-center">

        <div class="row">

            <div class="form-group col-md-6 mb-3">
                <label class="text-white font-weight-bold" for="cabinCode"><th:block th:text="#{cabin_code}"/></label>
                <input id="cabinCode" type="text" class="form-control"
                       name="cabinCode"
                       th:errorclass="is-invalid"
                       th:value="*{cabinCode}"
                       aria-describedby="nameHelpInline"
                       th:placeholder="#{cabin_add_code_prompt}">
                <p class="invalid-feedback" >
                    Cabin code is mandatory!
                </p>
            </div>

            <div class="form-group col-md-6 mb-3">
                <label for="type" class="text-center text-white font-weight-bold"><th:block th:text="#{cabin_type}"/></label>
                <select id="type"
                        name="type"
                        th:errorclass="is-invalid"
                        class="form-control">
                    <option value="">- <th:block th:text="#{cabin_add_type_prompt}"/> -</option>
                    <option
                            th:each="type : ${cabinType}"
                            th:value="${type}"
                            th:text="${type.label}"
                            th:selected="${type} == *{type}"
                    ></option>

                </select>
                <p class="invalid-feedback">
                    Cabin type is required.
                </p>
            </div>

        </div>

        <div class="row">
            <div class="form-group col-md-4 mb-3">
                <label for="adultPrice" class="text-center text-white font-weight-bold"><th:block th:text="#{cabin_add_ppa}"/></label>
                <input id="adultPrice"
                        name="adultPrice"
                        type="number"
                        th:errorclass="is-invalid"
                        th:value="*{adultPrice}"
                        class="form-control"
                        aria-describedby="nameHelpInline"
                       th:placeholder="#{cabin_add_ppa_prompt}">

                <p class="invalid-feedback">
                    Price should be a positive number.
                </p>

            </div>

            <div class="form-group col-md-4 mb-3">
                <label for="childPrice" class="text-center text-white font-weight-bold"><th:block th:text="#{cabin_add_ppc}"/></label>
                <input id="childPrice"
                       name="childPrice"
                       type="number"
                       th:errorclass="is-invalid"
                       th:value="*{childPrice}"
                       class="form-control"
                       aria-describedby="nameHelpInline"
                       th:placeholder="#{cabin_add_ppc_prompt}">

                <p class="invalid-feedback">
                    Price should be a positive number.
                </p>

            </div>

            <div class="form-group col-md-4 mb-3">
                <label for="extraAdultPrice" class="text-center text-white font-weight-bold"><th:block th:text="#{cabin_add_ppe}"/></label>
                <input id="extraAdultPrice"
                       name="extraAdultPrice"
                       type="number"
                       th:errorclass="is-invalid"
                       th:value="*{extraAdultPrice}"
                       class="form-control"
                       aria-describedby="nameHelpInline"
                       th:placeholder="#{cabin_add_ppe_prompt}">

                <p class="invalid-feedback">
                    Price should be a positive number.
                </p>

            </div>

        </div>


        <div class="row">
            <div class="form-group col-md-6 mb-3">
                <label class="text-white font-weight-bold" for="maxOccupancy"><th:block th:text="#{cabin_add_max}"/></label>
                <input id="maxOccupancy" type="number" step="1" min="2" max="4" class="form-control"
                       name="maxOccupancy"
                       th:errorclass="is-invalid"
                       th:value="*{maxOccupancy}"
                       aria-describedby="nameHelpInline"
                       th:placeholder="#{cabin_add_max_prompt}">
                <p class="invalid-feedback">
                    Max occupancy can be 2, 3 or 4.
                </p>
            </div>

            <div class="form-group col-md-6">
                <label class="text-white font-weight-bold" for="count"><th:block th:text="#{cabin_add_cabins}"/></label>
                <input type="number" step="1" min="1" max="10" class="form-control"
                       id="count"
                       name="count"
                       th:errorclass="is-invalid"
                       th:value="*{count}"
                       aria-describedby="nameHelpInline"
                       th:placeholder="#{cabin_add_cabins_prompt}">
                <p class="invalid-feedback">
                    You can put between 1 and 10 cabins.
                </p>
            </div>

        </div>


        <div class="row">
            <div class="col col-md-4">
                <div class="button-holder d-flex">
                    <input type="submit" class="btn btn-info btn-lg" th:value="#{cabin_add_submit}"/>
                </div>
            </div>
        </div>

    </form>
</div>
</main>
<footer th:replace="~{fragments/footer}"></footer>
</body>
</html>
